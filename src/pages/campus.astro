---
import BaseLayout from '../layouts/BaseLayout.astro';

// SEO Meta
const title = 'Campus - Konveksi Satuan Surabaya Kustom Garment';
const description = 'Koleksi produk campus untuk kebutuhan kampus dan universitas. T-Shirt, Kemeja, dan Jaket berkualitas premium dengan customisasi logo.';

// WhatsApp Configuration
const whatsappNumber = import.meta.env.PUBLIC_WHATSAPP_NUMBER || '6285161202499';
const bulkOrderMessage = 'Saya%20dapat%20informasi%20pembelian%20jumlah%20besar%20dari%20website.%20Mohon%20informasi%20lebih%20lengkap,%20ya.%20Terima%20kasih.';
const bulkOrderUrl = `https://wa.me/${whatsappNumber}?text=${bulkOrderMessage}`;

// Product Line Up Data
const productLineUp = [
  { name: 'T-Shirt', href: '#t-shirt', image: '/images/lineup/20250428-Business_Line-Up_Kaos-r544xqu3jmqddg603jussaip9yxnizaejhckc01cdk.webp' },
  { name: 'Kemeja', href: '#kemeja', image: '/images/lineup/20250428-Business_Line-Up_Kemeja-r544xqu3jmqddg603jussaip9yxnizaejhckc01cdk.webp' },
  { name: 'Jaket', href: '#jaket', image: '/images/lineup/20250428-Business_Line-Up_Jaket-r544xqu3jmqddg603jussaip9yxnizaejhckc01cdk.webp' }
];

// Products Data
const products = [
  {
    id: 't-shirt',
    title: 'T-Shirt',
    anchor: 'one',
    variants: [
      {
        name: 'Basic',
        description: 'Pakaian sehari-hari yang nyaman untuk aktivitas kampus. Bahan adem dan tahan lama, cocok untuk kuliah, organisasi mahasiswa, atau event kampus. Tersedia berbagai warna dengan opsi customisasi logo jurusan atau organisasi.',
        images: [
          '/images/products/campus/20250428-Campus_T-Shirts_Basic_1.webp',
          '/images/products/campus/20250428-Campus_T-Shirts_Basic_2.webp',
          '/images/products/campus/20250428-Campus_T-Shirts_Basic_3.webp',
          '/images/products/campus/20250428-Campus_T-Shirts_Basic_4.webp'
        ]
      }
    ]
  },
  {
    id: 'kemeja',
    title: 'Kemeja',
    anchor: 'two',
    variants: [
      {
        name: 'Basic',
        description: 'Kemeja kasual yang elegan untuk kegiatan akademik kampus. Potongan modern dengan kualitas premium, cocok untuk presentasi, seminar, atau kegiatan formal lainnya. Dilengkapi opsi customisasi logo dan atribut kampus.',
        images: [
          '/images/products/campus/20250428-Campus_Kemeja_Basic_1.webp',
          '/images/products/campus/20250428-Campus_Kemeja_Basic_2.webp',
          '/images/products/campus/20250428-Campus_Kemeja_Basic_3.webp',
          '/images/products/campus/20250428-Campus_Kemeja_Basic_4.webp'
        ]
      },
      {
        name: 'Workshirt PDH',
        description: 'Pakaian dinas harian yang praktis untuk kegiatan organisasi mahasiswa. Jahitan rapi dengan detail fungsional untuk mobilitas tinggi. Ideal untuk panitia acara, BEM, atau unit kegiatan mahasiswa.',
        images: [
          '/images/products/campus/20250428-Campus_Kemeja_PDH_1.webp',
          '/images/products/campus/20250428-Campus_Kemeja_PDH_2.webp',
          '/images/products/campus/20250428-Campus_Kemeja_PDH_3.webp',
          '/images/products/campus/20250428-Campus_Kemeja_PDH_4.webp'
        ]
      }
    ]
  },
  {
    id: 'jaket',
    title: 'Jaket',
    anchor: 'three',
    variants: [
      {
        name: 'Varsity',
        description: 'Desain ikonik yang mencerminkan semangat dan identitas kampus. Dengan detail premium dan jahitan berkualitas tinggi, jaket ini sempurna untuk momen kelulusan atau identitas program studi. Dilengkapi sistem penutup kancing kokoh dan saku dalam fungsional.',
        images: [
          '/images/products/campus/20250428-Campus_Jaket_Varsity_1.webp',
          '/images/products/campus/20250428-Campus_Jaket_Varsity_2.webp',
          '/images/products/campus/20250428-Campus_Jaket_Varsity_3.webp',
          '/images/products/campus/20250428-Campus_Jaket_Varsity_4.webp'
        ]
      },
      {
        name: 'Bomber',
        description: 'Perlindungan optimal dengan desain stylish untuk aktivitas kampus. Konstruksi berlapis dengan detail fungsional untuk menyimpan perlengkapan kuliah. Cocok untuk kegiatan sehari-hari di lingkungan kampus.',
        images: [
          '/images/products/campus/20250428-Campus_Jaket_Bomber_1.webp'
        ]
      },
      {
        name: 'Parka',
        description: 'Perlindungan optimal dengan detail fungsional untuk kegiatan outdoor kampus. Konstruksi berlapis dengan kantong multifungsi untuk menyimpan perlengkapan kuliah. Cocok untuk kegiatan lapangan, penelitian, atau ekspedisi akademis.',
        images: [
          '/images/products/campus/20250428-Campus_Jaket_Parka_1.webp',
          '/images/products/campus/20250428-Campus_Jaket_Parka_2.webp'
        ]
      },
      {
        name: 'Coach',
        description: 'Desain ringan dan praktis dengan opsi waterproof untuk aktivitas dinamis di lingkungan kampus. Dilengkapi dengan detail reflektif untuk keamanan di malam hari. Pilihan ideal untuk koordinator acara, panitia, atau kegiatan olahraga kampus.',
        images: [
          '/images/products/campus/20250428-Campus_Jaket_Coach_1.webp',
          '/images/products/campus/20250428-Campus_Jaket_Coach_2.webp'
        ]
      }
    ]
  }
];

// Benefits data
const benefits = [
  {
    icon: '/images/benefits/harga-bersahabat.webp',
    title: 'Harga Bersahabat',
    description: 'Dapatkan harga eksklusif dengan pembelian jumlah besar'
  },
  {
    icon: '/images/benefits/team-profesional.webp',
    title: 'Team Profesional',
    description: 'Konsultasi langsung sesuai kebutuhan dengan team berpengalaman kami'
  },
  {
    icon: '/images/benefits/pickup-delivery.webp',
    title: 'Pick Up or Delivery',
    description: 'Opsi pengiriman atau pengambilan barang di lokasi'
  },
  {
    icon: '/images/benefits/invoice-pajak.webp',
    title: 'Invoice & Pajak',
    description: 'Tersedia invoice dan faktur pajak'
  }
];
---

<BaseLayout title={title} description={description}>

  <!-- Hero Section - Full Height, Hidden on Mobile -->
  <section class="category-hero elementor-hidden-mobile">
    <div class="hero-container">
      <h1 class="hero-title">Campus</h1>
    </div>
  </section>

  <!-- Product Line Up Section -->
  <section class="product-lineup">
    <div class="lineup-container">
      <h2 class="lineup-title">Product Line Up</h2>
      <div class="lineup-grid">
        {productLineUp.map((item) => (
          <a href={item.href} class="lineup-item">
            <img
              src={item.image}
              alt={item.name}
              width="100"
              height="100"
              loading="lazy"
              decoding="async"
            />
            <p>{item.name}</p>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- Products Section -->
  <main class="products-section">
    {products.map((product) => (
      <>
        <!-- Category Title Section -->
        <section id={product.id} class="category-title-section">
          <div class="category-title-container">
            <div class="menu-anchor" id={product.anchor}></div>
            <h2 class="category-title">{product.title}</h2>
          </div>
        </section>

        <!-- Product Variants -->
        {product.variants.map((variant) => (
          <section class="product-variant-section">
            <div class="variant-container">
              <h4 class="variant-name">{variant.name}</h4>
              <p class="variant-description">{variant.description}</p>

              <!-- Image Carousel -->
              <div class="image-carousel" data-product-id={`${product.id}-${variant.name}`}>
                {variant.images.map((image, index) => (
                  <a
                    href={`https://wa.me/${whatsappNumber}?text=Saya%20dapat%20informasi%20${encodeURIComponent(product.title)}%20${encodeURIComponent(variant.name)}%20dari%20website.%20Mohon%20informasi%20lebih%20lengkap,%20ya.%20Terima%20kasih.`}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="carousel-slide"
                    class:active={index === 0}
                  >
                    <img
                      src={image}
                      alt={`${product.title} ${variant.name} - ${index + 1}`}
                      loading="lazy"
                      decoding="async"
                    />
                  </a>
                ))}
              </div>

              <!-- Carousel Pagination -->
              {variant.images.length > 1 && (
                <div class="carousel-pagination" data-product-id={`${product.id}-${variant.name}`}>
                  {variant.images.map((_, index) => (
                    <span class="pagination-bullet" class:active={index === 0}></span>
                  ))}
                </div>
              )}
            </div>
          </section>
        ))}
      </>
    ))}
  </main>

  <!-- Bulk Order CTA Section -->
  <section class="bulk-order-cta">
    <div class="cta-container">
      <div class="cta-content">
        <h3 class="cta-title">Pembelian Jumlah Besar</h3>
        <p class="cta-description">
          Nikmati penawaran spesial untuk pembelian dalam jumlah besar hanya di tempat kami. Dapatkan harga grosir, pelayanan prioritas, dan kemudahan proses transaksi untuk kebutuhan usaha maupun komunitas Anda.
        </p>
        <a
          href={bulkOrderUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="btn-cta-large"
          aria-label="Pesan Sekarang via WhatsApp"
        >
          Pesan Sekarang
        </a>
      </div>
    </div>
  </section>

  <!-- Benefits Section -->
  <section class="benefits-section">
    <div class="benefits-container">
      {benefits.map((benefit) => (
        <div class="benefit-card">
          <img
            src={benefit.icon}
            alt={benefit.title}
            width="80"
            height="80"
            loading="lazy"
            decoding="async"
          />
          <h4 class="benefit-title">{benefit.title}</h4>
          <p class="benefit-description">{benefit.description}</p>
        </div>
      ))}
    </div>
  </section>

  <!-- Portfolio Banner -->
  <section class="portfolio-banner">
    <a
      href="https://portfolio.kustomgarment.com/"
      target="_blank"
      rel="noopener noreferrer"
      aria-label="Lihat Portfolio Kustom Garment"
    >
      <img
        src="/images/portfolio/section7-1.png"
        alt="Portfolio Kustom Garment"
        width="2000"
        height="1000"
        loading="lazy"
        decoding="async"
      />
    </a>
  </section>

</BaseLayout>

<style>
  /* Hero Section - Full Height, Hidden on Mobile */
  .category-hero {
    display: none;
    background: #ffffff;
    min-height: 60vh;
    align-items: center;
    justify-content: center;
    text-align: center;
  }

  @media (min-width: 768px) {
    .category-hero.elementor-hidden-mobile {
      display: flex;
    }
  }

  .hero-container {
    width: 100%;
    padding: 0;
  }

  .hero-title {
    font-size: clamp(3rem, 8vw, 6rem);
    font-weight: 700;
    color: #333333;
    margin: 0;
    line-height: 1;
  }

  /* Product Line Up Section */
  .product-lineup {
    background: #f8f8f8;
    padding: 2rem 0;
  }

  .lineup-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1.5rem;
  }

  .lineup-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: #333333;
    margin: 0 0 1.5rem 0;
    text-align: center;
  }

  .lineup-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
    justify-items: center;
  }

  .lineup-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;
    transition: transform 0.2s ease;
  }

  .lineup-item:hover {
    transform: translateY(-4px);
  }

  .lineup-item img {
    width: 80px;
    height: 80px;
    object-fit: contain;
    margin-bottom: 0.5rem;
  }

  .lineup-item p {
    font-size: 0.875rem;
    font-weight: 500;
    color: #333333;
    margin: 0;
    text-align: center;
  }

  /* Products Section */
  .products-section {
    background: #ffffff;
  }

  /* Category Title Section */
  .category-title-section {
    background: #f8f8f8;
    padding: 1.5rem 0;
  }

  .category-title-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1.5rem;
    position: relative;
  }

  .category-title {
    font-size: 2rem;
    font-weight: 600;
    color: #333333;
    margin: 0;
  }

  /* Product Variant Section */
  .product-variant-section {
    background: #ffffff;
    padding: 2rem 0;
  }

  .variant-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1.5rem;
  }

  .variant-name {
    font-size: 1.5rem;
    font-weight: 600;
    color: #333333;
    margin: 0 0 1rem 0;
  }

  .variant-description {
    font-size: 1rem;
    color: #666666;
    margin: 0 0 2rem 0;
    line-height: 1.6;
  }

  /* Image Carousel */
  .image-carousel {
    position: relative;
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
    aspect-ratio: 16 / 9;
    background: #f5f5f5;
    border-radius: 8px;
    overflow: hidden;
  }

  .carousel-slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity 0.5s ease;
    text-decoration: none;
  }

  .carousel-slide.active {
    opacity: 1;
  }

  .carousel-slide img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    background: #f5f5f5;
  }

  /* Carousel Pagination */
  .carousel-pagination {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin-top: 1rem;
  }

  .pagination-bullet {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #e5e7eb;
    cursor: pointer;
    transition: background 0.2s ease;
  }

  .pagination-bullet.active {
    background: #0066cc;
  }

  /* Bulk Order CTA */
  .bulk-order-cta {
    background: #f8f8f8;
    padding: 3rem 0;
  }

  .cta-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 1.5rem;
  }

  .cta-content {
    text-align: center;
  }

  .cta-title {
    font-size: 1.75rem;
    font-weight: 600;
    color: #333333;
    margin: 0 0 1rem 0;
  }

  .cta-description {
    font-size: 1rem;
    color: #666666;
    margin: 0 0 1.5rem 0;
    line-height: 1.6;
  }

  .btn-cta-large {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 1rem 2.5rem;
    font-size: 1rem;
    font-weight: 500;
    color: #ffffff;
    background: #0066cc;
    border: none;
    border-radius: 6px;
    text-decoration: none;
    transition: background 0.2s ease;
  }

  .btn-cta-large:hover {
    background: #0052a3;
  }

  /* Benefits Section */
  .benefits-section {
    background: #ffffff;
    padding: 3rem 0;
  }

  .benefits-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1.5rem;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
  }

  .benefit-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 1.5rem;
    background: #f8f8f8;
    border-radius: 12px;
  }

  .benefit-card img {
    width: 64px;
    height: 64px;
    object-fit: contain;
    margin-bottom: 1rem;
  }

  .benefit-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: #333333;
    margin: 0 0 0.5rem 0;
  }

  .benefit-description {
    font-size: 0.875rem;
    color: #666666;
    margin: 0;
  }

  /* Portfolio Banner */
  .portfolio-banner {
    width: 100%;
    background: #ffffff;
  }

  .portfolio-banner a {
    display: block;
    width: 100%;
    text-decoration: none;
  }

  .portfolio-banner img {
    display: block;
    width: 100%;
    height: auto;
  }

  /* Tablet Styles */
  @media (min-width: 768px) {
    .lineup-grid {
      grid-template-columns: repeat(3, 1fr);
    }

    .benefits-container {
      grid-template-columns: repeat(4, 1fr);
    }

    .category-title {
      font-size: 2.5rem;
    }
  }

  /* Desktop Styles */
  @media (min-width: 1024px) {
    .lineup-container,
    .category-title-container,
    .variant-container,
    .cta-container,
    .benefits-container {
      padding: 0 2rem;
    }

    .category-title {
      font-size: 3rem;
    }
  }
</style>

<script>
  const carousels = document.querySelectorAll('.image-carousel');
  carousels.forEach((carousel) => {
    const slides = carousel.querySelectorAll('.carousel-slide');
    const productId = carousel.dataset.productId;
    const pagination = document.querySelector(`.carousel-pagination[data-product-id="${productId}"]`);
    if (slides.length > 1) {
      let currentIndex = 0;
      let interval: number | null = null;
      const showSlide = (index: number) => {
        slides.forEach((slide, i) => slide.classList.toggle('active', i === index));
        if (pagination) {
          const bullets = pagination.querySelectorAll('.pagination-bullet');
          bullets.forEach((bullet, i) => bullet.classList.toggle('active', i === index));
        }
      };
      const nextSlide = () => { currentIndex = (currentIndex + 1) % slides.length; showSlide(currentIndex); };
      const startAutoplay = () => { interval = window.setInterval(nextSlide, 4500); };
      const stopAutoplay = () => { if (interval) { clearInterval(interval); interval = null; } };
      startAutoplay();
      carousel.addEventListener('mouseenter', stopAutoplay);
      carousel.addEventListener('mouseleave', startAutoplay);
      if (pagination) {
        const bullets = pagination.querySelectorAll('.pagination-bullet');
        bullets.forEach((bullet, index) => bullet.addEventListener('click', () => { currentIndex = index; showSlide(currentIndex); }));
      }
    }
  });
</script>
